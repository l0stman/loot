
atom.c,239
static struct atom 6,107
        struct atom *next;next7,128
        int len;8,155
        char *str;str9,172
} *buckets[buckets10,191
static unsigned long scatter[scatter12,210
strtoatm(60,3605
inttoatm(68,3754
natom(94,4297

atom.h,52
#define ATOM_H2,15
typedef const char symb_t;4,31

env.c,168
env_t *globenv;globenv5,55
hash(11,201
find(22,443
lookup(34,770
install(46,1084
void65,1617
newframe(92,2348
newenv(104,2562
extenv(116,2751
fdump(132,3143

env.h,426
#define ENV_H2,14
#define HASHSIZE 4,29
typedef struct frame 6,58
        struct nlist **bucket;bucket7,129
        size_t size;8,160
} frame_t;9,181
typedef struct env 11,193
        frame_t *fp;fp12,258
        struct env *ep;ep13,317
} env_t;14,375
struct nlist 16,385
        struct nlist *next;next17,419
        const char *name;name18,447
        exp_t *defn;defn19,504
fframe(33,955
eenv(40,1068

eval.c,1068
const excpt_t eval_error 7,91
const excpt_t syntax_error 8,130
enum place 9,173
enum place { CAR,9,173
enum place { CAR, CDR 9,173
enum logic 10,198
enum logic { LAND,10,198
enum logic { LAND, LOR 10,198
analyze(45,1372
evproc(85,2612
eval(92,2753
#define push(97,2831
apply(101,2926
chklst(133,3960
anquote(145,4230
andef(155,4441
#define nlambda(168,4697
bind(172,4850
anif(192,5488
anbegin(211,6000
#define nseq(232,6540
#define nset(233,6595
#define nlet(234,6671
#define nquote(235,6739
anlambda(254,7263
scan_defs(298,8850
#define iselse(317,9502
#define isarrow(318,9557
ancond(322,9680
anset(364,11229
ansetpair(381,11623
anlogic(396,11983
anlet(418,12557
anapp(464,14131
anqquote(501,15501
cunq(520,16039
anqquote1(540,16579
evself(563,17359
evvar(570,17474
#define valerr(579,17680
evdef(585,17924
evset(604,18395
evsetpair(620,18814
evif(637,19248
evbegin(648,19496
evcond(657,19698
evand(674,20206
evor(685,20446
evlambda(696,20686
evlet(703,20843
evapp(712,21065
evqquote(727,21438
evqquote1(742,21838

eval.h,64
#define EVAL_H2,15
#define everr(10,178
#define anerr(11,256

exp.c,507
exp_t *false;false5,55
exp_t *true;true6,69
exp_t *null;null7,82
exp_t *undefined;undefined8,95
exp_t *unquote;unquote9,163
exp_t *splice;splice10,179
#define X(12,195
void *keywords[keywords13,213
#undef	X14,246
instcst(18,300
initkeys(30,596
iseq(40,805
atmtostr(47,939
pairtostr(60,1175
proctostr(91,2029
ftostr(108,2468
rtostr(118,2663
fxntostr(128,2862
ctostr(138,3050
stostr(158,3495
tostr(165,3625
#define SIGN(188,4271
#define ABS(189,4306
gcd(192,4404
nrat(207,4649

exp.h,2957
#define EXP_H2,14
enum type 6,48
enum type { ATOM,6,48
enum type { ATOM, PAIR,6,48
enum type { ATOM, PAIR, PROC,6,48
enum type { ATOM, PAIR, PROC, FLOAT,6,48
enum type { ATOM, PAIR, PROC, FLOAT, RAT,6,48
enum type { ATOM, PAIR, PROC, FLOAT, RAT, FIXNUM,6,48
enum type { ATOM, PAIR, PROC, FLOAT, RAT, FIXNUM, CHAR,6,48
enum type { ATOM, PAIR, PROC, FLOAT, RAT, FIXNUM, CHAR, BOOL,6,48
enum type { ATOM, PAIR, PROC, FLOAT, RAT, FIXNUM, CHAR, BOOL, STRING 6,48
#define type(8,121
#define symp(9,154
#define pairp(10,189
#define procp(11,224
#define label(12,259
#define flt(13,301
#define fixnum(14,336
#define ratp(15,371
#define char(16,406
#define strp(17,441
typedef struct exp 19,478
        enum type            tp;20,499
                symb_t      *sp;sp22,577
                struct cons *cp;cp23,649
                struct proc *pp;pp24,706
                int          fx;25,768
                struct rat  *rp;rp26,827
                double       ft;27,888
                char         ch;28,946
                struct str  *str;str29,1008
        } u;30,1068
} exp_t;31,1081
#define car(33,1091
#define cdr(34,1124
#define caar(35,1157
#define cadr(36,1188
#define cdar(37,1219
#define cddr(38,1250
#define caddr(39,1281
#define cadar(40,1313
#define cdddr(41,1345
#define cddar(42,1377
struct cons 44,1410
        exp_t *car;car45,1437
        exp_t *cdr;cdr46,1457
typedef struct evproc 51,1538
        exp_t *(*eval)eval52,1562
        void *argv;argv53,1588
} evproc_t;54,1608
struct func 56,1621
        exp_t      *parp;parp57,1681
        evproc_t   *bodyp;bodyp58,1746
        struct env *envp;envp59,1805
#define ptype(62,1875
#define primp(63,1913
#define funcp(64,1956
#define fpar(65,1999
#define fbody(66,2039
#define fenv(67,2080
enum ftype 69,2121
enum ftype { FUNC,69,2121
enum ftype { FUNC, PRIM 69,2121
typedef struct proc 70,2148
        enum ftype tp;71,2227
        symb_t *label;label72,2287
                exp_t *(*primp)primp74,2364
                struct func *funcp;funcp75,2438
        } u;76,2516
} proc_t;77,2529
#define num(79,2540
#define den(80,2570
typedef struct rat 82,2601
        int num;83,2661
        int den;84,2709
} rat_t;85,2759
#define str(87,2769
#define slen(88,2798
typedef struct str 90,2830
        char   *s;s91,2888
        size_t len;92,2907
} str_t;93,2927
#define KEYWORDS 102,3069
#define X(121,3966
enum kindex 122,3984
enum kindex { KEYWORDS 122,3984
#undef  X123,4055
isatom(134,4286
ispair(140,4382
isproc(146,4478
isfloat(152,4574
israt(158,4672
isfxn(164,4767
ischar(170,4864
isbool(176,4950
isstr(182,5036
atom(189,5166
bool(201,5362
cons(213,5550
nevproc(226,5761
nfunc(238,5965
nprim(257,6354
nproc(270,6598
nfloat(282,6793
nfixnum(294,6989
nchar(306,7190
nstr(318,7384
isnull(332,7641
islist(339,7795
reverse(348,7951
nreverse(359,8173
nconc(373,8452

main.c,66
const char *progname;progname7,100
main(10,127
initenv(28,588

err.c,305
err_quit(14,204
err_sys(30,510
exfram_t *exstack exstack41,727
void raise(44,861
typedef struct list 74,1801
        void *p;p75,1823
        struct list *next;next76,1840
} list_t;77,1867
static list_t *alloc alloc79,1878
xalloc(86,2058
xrealloc(98,2238
xfree(120,2843
xfreeall(141,3327

prim.c,766
        char *n;n42,1139
        exp_t *(*pp)pp43,1156
} plst[plst44,1180
instprim(83,2180
load(93,2396
chkargs(150,3912
foldl(166,4372
add(178,4665
prim_add(198,5134
sub(205,5268
prim_sub(225,5754
prod(236,6072
prim_prod(252,6431
divs(259,6565
prim_div(277,7014
prim_eq(288,7352
prim_sym(296,7526
prim_pair(304,7692
prim_numeq(312,7856
prim_lt(320,8039
prim_gt(328,8221
prim_isnum(336,8378
prim_isproc(344,8549
prim_isbool(352,8723
prim_ischar(360,8897
prim_cons(368,9059
prim_car(376,9221
prim_cdr(386,9465
prim_apply(396,9727
prim_load(419,10468
prim_sin(434,10826
prim_cos(441,10935
prim_tan(448,11045
prim_atan(455,11159
prim_log(462,11281
prim_exp(474,11587
prim_pow(482,11736
prim_write(522,12882
prim_read(531,13072

err.h,658
#define ERR_H2,14
#define MAXLINE 7,70
typedef struct excpt 12,219
        const char *reason;reason13,242
} excpt_t;14,270
typedef struct exfram 16,282
        struct exfram *prev;prev17,306
        jmp_buf env;18,335
        const char *file;file19,356
        int line;20,382
        const excpt_t *exception;exception21,400
        const char *msg;msg22,434
} exfram_t;23,459
enum { ENTERED 25,472
enum { ENTERED = 0, RAISED,25,472
enum { ENTERED = 0, RAISED, HANDLED 25,472
#define RAISE(30,606
#define RERAISE 31,670
#define RETURN 32,751
#define TRY 34,821
#define CATCH(42,1163
#define WARN(47,1409
#define ENDTRY 69,2924

prim.h,333
#define PRIM_H2,15
#define VALUE(4,31
#define compare(7,157
#define CHKNUM(10,269
#define NUMER(16,584
#define DENOM(17,640
#define CHKCMP(20,732
#define CALL(27,1004
typedef enum mode 33,1257
typedef enum mode { NINTER,33,1257
typedef enum mode { NINTER, INTER 33,1257
typedef enum mode { NINTER, INTER } mode_t;33,1257

extern.c,131
int   linenum 3,21
char *filename filename4,75
smalloc(8,168
scalloc(19,344
srealloc(30,538
sstrdup(41,732
sstrndup(52,878

type.c,83
intlen(7,136
isintstr(23,468
isratstr(30,587
isfloatstr(44,949
isself(69,1687

type.h,343
#define TYPE_H2,15
isint(11,242
isnum(18,349
istag(25,519
isdef(32,666
issym(39,792
isvar(46,933
isquote(53,1039
isif(60,1173
iscond(67,1302
isbegin(74,1435
isand(81,1569
isor(88,1698
islambda(95,1828
islet(102,1963
isset(109,2093
issetcar(116,2227
issetcdr(123,2367
isqquote(130,2510
isunquote(137,2650
issplice(144,2801

extern.h,587
#define EXTERN_H2,17
#define inline 6,70
#define inline8,121
#define INPR 22,340
#define OUTPR 23,391
#define PREFIX 24,436
#define LOOTRC 25,461
#define LIBNAM 26,489
#define NELEMS(27,517
#define MAXDIG 30,635
#define FMAXDIG 31,654
#define IMAXDIG 32,679
#define NEW(34,699
#define BSIZ	36,744
typedef struct buf 38,761
        char   *buf;buf39,817
        int     len;40,838
        size_t  size;41,897
} buf_t;42,954
issep(55,1246
bresize(63,1427
binit(73,1658
#define bwrite(84,1833
_bwrite(88,1949
#define bputc(96,2156
_bputc(100,2268
bfree(109,2471

read.c,431
const excpt_t read_error 6,74
skipsp(122,3227
skipline(134,3478
skip(147,3724
#define doterr(164,4137
#define eoferr(165,4213
#define readerr(166,4274
read(173,4436
nextc(188,4778
read_pair(199,5008
parse_atm(229,5749
read_atm(253,6342
read_str(271,6684
enclose(290,7151
read_quote(301,7358
read_qquote(308,7481
read_comma(315,7600
read_sharp(337,8057
read_char(367,8795
read_rparen(396,9584
read_dot(404,9748

read.h,41
#define READ_H2,15
#define UNGETC(4,31
